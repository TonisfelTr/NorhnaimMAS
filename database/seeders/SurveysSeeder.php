<?php

namespace Database\Seeders;

use App\Models\Question;
use App\Models\Survey;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;

class SurveysSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $surveys = [
            [
                // Опросник Зунга
                'title' => 'Опросник Зунга',
                'description' => 'Оценка уровня депрессии. Состоит из 20 вопросов. Каждый вопрос оценивается от 1 до 4.',
                'answers' => 4,
                'points' => [1, 2, 3, 4],
                'instructions' => 'Пожалуйста, оцените, насколько каждое утверждение соответствует вашему состоянию за последние несколько дней. Используйте шкалу от 1 (редко или никогда) до 4 (почти всегда).',
                'questions' => [
                    'Мне трудно сосредоточиться на том, что я делаю.',
                    'Я чувствую себя грустным или подавленным.',
                    'Мне кажется, что моя жизнь потеряла смысл.',
                    'Я сплю хуже, чем обычно.',
                    'Я чувствую себя более уставшим, чем обычно.',
                    'Я потерял интерес к вещам, которые обычно приносят мне удовольствие.',
                    'Я испытываю беспокойство или тревогу.',
                    'Мне кажется, что я потерял контроль над собой.',
                    'У меня снижено чувство собственного достоинства.',
                    'Я чувствую себя менее продуктивным на работе или в учебе.',
                    'Я ем меньше или больше, чем обычно.',
                    'Я чувствую раздражительность или нервозность.',
                    'Я избегаю общения с людьми.',
                    'Мне кажется, что у меня проблемы со здоровьем.',
                    'Я теряю вес без явной причины.',
                    'Я чувствую вину за что-то.',
                    'Я ощущаю, что всё идёт не так, как нужно.',
                    'Мне кажется, что я в тупике.',
                    'Я больше плачу, чем обычно.',
                    'Мне кажется, что у меня не осталось надежды.',
                ],
            ],
            [
                // Опросник Бека
                'title' => 'Опросник Бека',
                'description' => 'Оценка степени депрессии. Состоит из 21 вопроса. Каждый вопрос оценивается от 0 до 3.',
                'answers' => 4,
                'points' => [0, 1, 2, 3],
                'instructions' => 'Прочитайте каждое утверждение и выберите вариант, который наиболее точно отражает ваше состояние за последние 2 недели. Используйте шкалу от 0 (нет симптома) до 3 (максимальная выраженность).',
                'questions' => [
                    'Я чувствую грусть.',
                    'Будущее кажется мне безнадёжным.',
                    'Мне кажется, что я потерпел неудачу.',
                    'Я испытываю неудовлетворенность.',
                    'Я чувствую себя виноватым.',
                    'Я ожидаю наказания.',
                    'Я разочарован в себе.',
                    'Я критикую себя.',
                    'Я думаю о самоубийстве.',
                    'Я плачу чаще, чем обычно.',
                    'Я раздражаюсь чаще, чем обычно.',
                    'Я потерял интерес к людям.',
                    'Мне трудно принимать решения.',
                    'Я чувствую, что выгляжу хуже, чем обычно.',
                    'Я не могу работать так же хорошо, как раньше.',
                    'Я сплю хуже, чем обычно.',
                    'Я устал.',
                    'Мой аппетит изменился.',
                    'Я потерял интерес к сексу.',
                    'Я волнуюсь за своё здоровье.',
                    'Я теряю вес.',
                ],
            ],
            [
                // HADS (Госпитальная шкала тревоги и депрессии)
                'title' => 'Госпитальная шкала тревоги и депрессии (HADS)',
                'description' => 'Шкала для оценки уровня тревоги и депрессии. Состоит из 14 вопросов: 7 для тревоги, 7 для депрессии.',
                'answers' => 4,
                'points' => [0, 1, 2, 3],
                'instructions' => 'Прочитайте каждое утверждение и выберите ответ, который наиболее точно отражает ваше состояние за последнюю неделю. Используйте шкалу от 0 (совсем нет) до 3 (очень часто).',
                'questions' => [
                    'Мне трудно расслабиться.',
                    'Я чувствую страх, как будто что-то ужасное может произойти.',
                    'У меня есть ощущение внутреннего напряжения.',
                    'Мне кажется, что я испытываю перепады настроения.',
                    'Я чувствую нервозность или обеспокоенность.',
                    'Я чувствую, что что-то плохое может случиться в любой момент.',
                    'Я испытываю физические проявления тревоги, такие как потоотделение или учащённое сердцебиение.',
                    'Мне трудно наслаждаться вещами, которые раньше приносили удовольствие.',
                    'Мне кажется, что я чувствую грусть большую часть времени.',
                    'Я не чувствую мотивации что-либо делать.',
                    'Я чувствую себя обессиленным.',
                    'Я не вижу ничего, что может поднять мне настроение.',
                    'Мне трудно сосредоточиться из-за плохого настроения.',
                    'Я чувствую, что моя жизнь не имеет смысла.',
                ],
            ],
            [
                // STAI (Шкала тревоги Спилбергера)
                'title' => 'Шкала тревоги Спилбергера (STAI)',
                'description' => 'Шкала для оценки ситуативной и личностной тревожности. Состоит из 40 вопросов, разделённых на 2 части (по 20 вопросов каждая).',
                'answers' => 4,
                'points' => [1, 2, 3, 4],
                'instructions' => 'Для каждой ситуации выберите ответ, который наиболее точно отражает ваше состояние. Используйте шкалу от 1 (почти никогда) до 4 (почти всегда).',
                'questions' => [
                    // Ситуативная тревожность
                    'Я спокоен.',
                    'Меня тревожит возможность неудачи.',
                    'Я доволен собой.',
                    'Я чувствую себя в напряжении.',
                    'Я уверен в себе.',
                    'Я нервничаю.',
                    'Я спокойно реагирую на события.',
                    'Я чувствую внутреннее беспокойство.',
                    'Меня беспокоит чувство страха.',
                    'Я чувствую себя расслабленным.',
                    'Я встревожен.',
                    'Я уверен, что всё будет хорошо.',
                    'Я ощущаю беспокойство в душе.',
                    'Я чувствую прилив уверенности.',
                    'Меня пугают возможные проблемы.',
                    'Я ощущаю напряжение в теле.',
                    'Я чувствую себя уравновешенным.',
                    'Меня легко вывести из себя.',
                    'Я чувствую, что теряю контроль.',
                    'Я справляюсь со своими эмоциями.',
                    // Личностная тревожность
                    'Я легко нервничаю.',
                    'Я ощущаю постоянное беспокойство.',
                    'Меня беспокоят малейшие проблемы.',
                    'Я чувствую себя уязвимым.',
                    'Я сохраняю хладнокровие в сложных ситуациях.',
                    'Я паникую при трудностях.',
                    'Я часто думаю о своих проблемах.',
                    'Меня пугают возможные неудачи.',
                    'Я стараюсь избегать ответственных решений.',
                    'Я уверен в своих силах.',
                    'Меня легко вывести из равновесия.',
                    'Я редко расслабляюсь.',
                    'Я часто тревожусь из-за мелочей.',
                    'Я уверен, что всё будет хорошо.',
                    'Я беспокоюсь о будущем.',
                    'Я редко испытываю стресс.',
                    'Я готов справляться с любыми трудностями.',
                    'Я часто думаю о возможных ошибках.',
                    'Я сохраняю спокойствие даже в стрессовых ситуациях.',
                ],
            ],
            [
                // PHQ-9 (Patient Health Questionnaire)
                'title' => 'PHQ-9',
                'description' => 'Краткий опросник для оценки симптомов депрессии за последние две недели. Состоит из 9 вопросов. Каждый вопрос оценивается по шкале от 0 до 3.',
                'answers' => 4,
                'points' => [0, 1, 2, 3],
                'instructions' => 'Оцените, насколько часто вы испытывали каждый из указанных симптомов за последние 2 недели. Используйте шкалу от 0 (никогда) до 3 (почти каждый день).',
                'questions' => [
                    'В последние две недели вы чувствовали себя подавленным или безнадёжным?',
                    'В последние две недели вы испытывали мало интереса или удовольствия от того, что обычно приносит радость?',
                    'В последние две недели вы испытывали трудности с засыпанием, продолжительностью сна или слишком много спали?',
                    'В последние две недели вы чувствовали усталость или недостаток энергии?',
                    'В последние две недели вы чувствовали себя плохо о себе, будто вы подвели себя или свою семью?',
                    'В последние две недели у вас были трудности с концентрацией внимания, например, при чтении газеты или просмотре телевизора?',
                    'В последние две недели вы двигались или говорили так медленно, что это замечали окружающие? Или, наоборот, вы чувствовали себя настолько нервным или взволнованным, что не могли усидеть на месте?',
                    'В последние две недели вы чувствовали, что вам было бы лучше умереть или что вы могли причинить себе вред?',
                    'Насколько эти проблемы мешали вашей работе, дому или взаимоотношениям с другими людьми?',
                ],
            ],
            [
                // PANSS (Positive and Negative Syndrome Scale)
                'title' => 'PANSS (Шкала позитивных и негативных синдромов)',
                'description' => 'Инструмент для оценки симптомов шизофрении. Состоит из 30 пунктов: 7 для позитивных симптомов, 7 для негативных, 16 для общих психопатологических симптомов.',
                'answers' => 7,
                'points' => [1, 2, 3, 4, 5, 6, 7], // 1 - отсутствие симптомов, 7 - крайняя выраженность
                'instructions' => 'Для каждого утверждения оцените выраженность симптомов. Используйте шкалу от 1 (отсутствие симптома) до 7 (крайняя выраженность).',
                'questions' => [
                    // Позитивные симптомы
                    'Выраженные бредовые идеи.',
                    'Галлюцинации (слуховые, зрительные или другие).',
                    'Возбуждение или неспособность оставаться на месте.',
                    'Враждебность к окружающим.',
                    'Идеи величия или чрезмерной значимости.',
                    'Подозрительность или идеи преследования.',
                    'Дезорганизованная речь или мысли.',
                    // Негативные симптомы
                    'Эмоциональное притупление или снижение выражения эмоций.',
                    'Социальная изоляция или отстранённость от других людей.',
                    'Бедность речи (алогия).',
                    'Снижение мотивации или отсутствие интереса.',
                    'Нарушение спонтанности в речи и действиях.',
                    'Снижение активности или безразличие.',
                    'Снижение выражения эмоций в межличностных ситуациях.',
                    // Общие симптомы
                    'Тревожность.',
                    'Депрессия или чувство безнадёжности.',
                    'Когнитивные нарушения, например проблемы с памятью.',
                    'Идеи самоуничижения или бесполезности.',
                    'Напряжение или невозможность расслабиться.',
                    'Сложности с восприятием реальности.',
                    'Чувство усталости или изнеможения.',
                    'Неадекватное поведение в социальных ситуациях.',
                    'Нарушение самосознания.',
                    'Агрессивное или враждебное поведение.',
                    'Изоляция от общества или семьи.',
                    'Снижение интереса к повседневной жизни.',
                    'Неадекватные эмоциональные реакции.',
                    'Неспособность к принятию решений.',
                    'Нарушение личной гигиены или ухода за собой.',
                ],
            ],
            [
                // MMSE (Mini-Mental State Examination)
                'title' => 'MMSE (Mini-Mental State Examination)',
                'description' => 'Краткая шкала для оценки когнитивных функций. Состоит из 11 задач, которые проверяют ориентацию, внимание, память, язык и способности к построению.',
                'answers' => 1,
                'points' => [1], // Каждый правильный ответ оценивается в 1 балл
                'instructions' => 'Пожалуйста, отвечайте на вопросы максимально честно. Убедитесь, что вы сосредоточены и вам никто не мешает.',
                'questions' => [
                    'Какой сейчас год?',
                    'Какой сейчас месяц?',
                    'Какой сегодня день недели?',
                    'Какое сейчас время суток?',
                    'Какое название этого места (или адрес)?',
                    'Назовите три слова, которые я вам сейчас скажу (например: яблоко, стол, монета).',
                    'Повторите за мной фразу: "Нет если и но".',
                    'Посчитайте от 100 назад, вычитая по 7 (100, 93, 86 и т.д.).',
                    'Повторите слова, которые я назвал ранее.',
                    'Покажите, как вы рисуете часы, указав время 10:10.',
                    'Напишите полное предложение на указанную тему (например: "Сегодня хорошая погода").',
                ],
            ],
            [
                // PCL-5 (Posttraumatic Stress Disorder Checklist)
                'title' => 'PCL-5 (Posttraumatic Stress Disorder Checklist)',
                'description' => 'Шкала для оценки посттравматического стрессового расстройства (ПТСР). Состоит из 20 вопросов, основанных на критериях DSM-5.',
                'answers' => 5,
                'points' => [0, 1, 2, 3, 4],
                'instructions' => 'Оцените, насколько часто вы испытывали перечисленные симптомы за последние 2 недели. Используйте шкалу от 0 (никогда) до 4 (очень часто).',
                'questions' => [
                    'Вы испытывали неприятные воспоминания о травматическом событии?',
                    'Вы видели или слышали что-то, что заставляло вас снова переживать травму?',
                    'Вы избегали воспоминаний, мыслей или чувств, связанных с этим событием?',
                    'Вы избегали людей, мест или событий, связанных с этим событием?',
                    'Вы чувствовали, что не можете вспомнить важные части события?',
                    'Вы чувствовали себя отстранённым от других людей?',
                    'Вы испытывали трудности с позитивными эмоциями?',
                    'Вы чувствовали раздражительность или приступы гнева?',
                    'Вы были чрезмерно насторожены или чувствовали себя на взводе?',
                    'Вы испытывали трудности со сном?',
                ],
            ],
            [
                // EAT-26 (Eating Attitudes Test)
                'title' => 'EAT-26 (Eating Attitudes Test)',
                'description' => 'Шкала для оценки пищевого поведения, включающая 26 вопросов. Используется для выявления риска расстройств пищевого поведения.',
                'answers' => 6,
                'points' => [0, 1, 2, 3, 4, 5],
                'instructions' => 'Оцените, насколько каждое утверждение соответствует вашему поведению. Используйте шкалу от 0 (никогда) до 5 (всегда).',
                'questions' => [
                    'Я постоянно думаю о том, как похудеть.',
                    'Я пропускаю приёмы пищи, чтобы контролировать свой вес.',
                    'Я чувствую вину после еды.',
                    'Я ем меньше, чем мне нужно.',
                    'Я боюсь набрать вес.',
                    'Я чувствую себя слишком толстой (толстым).',
                    'Я стараюсь избегать еды, богатой углеводами.',
                    'Я использую слабительные или другие средства для контроля веса.',
                    'Я стараюсь избегать еды, богатой жирами.',
                    'Я регулярно занимаюсь физическими упражнениями, чтобы сжечь калории.',
                ],
            ],
            [
                // AUDIT (Alcohol Use Disorders Identification Test)
                'title' => 'AUDIT (Alcohol Use Disorders Identification Test)',
                'description' => 'Шкала для оценки проблем, связанных с употреблением алкоголя. Состоит из 10 вопросов.',
                'answers' => 5,
                'points' => [0, 1, 2, 3, 4],
                'instructions' => 'Ответьте на вопросы, основываясь на вашем поведении за последний год. Используйте шкалу от 0 (никогда) до 4 (ежедневно или почти ежедневно).',
                'questions' => [
                    'Как часто вы употребляете алкоголь?',
                    'Сколько порций алкоголя вы обычно выпиваете за день?',
                    'Как часто в течение последнего года вы не могли прекратить пить после начала?',
                    'Как часто в течение последнего года вы употребляли алкоголь утром, чтобы почувствовать себя лучше после выпивки?',
                    'Как часто в течение последнего года вы чувствовали вину или сожаление после употребления алкоголя?',
                    'Как часто в течение последнего года вы не могли вспомнить, что происходило накануне из-за выпивки?',
                    'Вы или кто-либо другой получали травмы в результате вашего употребления алкоголя?',
                    'Рекомендовали ли вам прекратить употребление алкоголя медицинские или иные специалисты?',
                ],
            ],
        ];

        Survey::truncate();
        Question::truncate();

        foreach ($surveys as $survey) {
            $surveyObj              = new Survey();
            $surveyObj->title       = $survey['title'];
            $surveyObj->description = $survey['description'];
            $surveyObj->answers     = $survey['answers'];
            $surveyObj->points      = $survey['points'];
            $surveyObj->instructions = $survey['instructions'];
            $surveyObj->save();

            foreach ($survey['questions'] as $question) {
                $questionObj            = new Question();
                $questionObj->question  = $question;
                $questionObj->survey_id = $surveyObj->id;
                $questionObj->save();
            }
        }
    }
}
